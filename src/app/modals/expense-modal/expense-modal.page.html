<ion-header>
  <ion-toolbar>
    <ion-title>{{ isNew ? 'New Expense' : 'Edit Expense' }}</ion-title>
    <ion-buttons slot="primary">
      <ion-button slot="secondary" (click)="dismiss()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <div class="ion-padding"></div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-content>
            <form [formGroup]="form">
              <ion-grid>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating" width="full">Date*</ion-label>
                      <ion-datetime formControlName="date" displayFormat="MMM DD, YYYY" [value]=""></ion-datetime>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Category*</ion-label>
                      <ion-select autocomplete formControlName="category" (ionChange)="getTypes($event)">
                        <ion-select-option *ngFor="let item of categories" [value]="item">
                          {{ item.name }}</ion-select-option>
                      </ion-select>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Type*</ion-label>
                      <ion-select autocomplete formControlName="type">
                        <ion-select-option *ngFor="let item of types" [value]="item">{{ item.name }}
                        </ion-select-option>
                      </ion-select>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Amount*</ion-label>
                      <ion-input type="number" autocomplete formControlName="amount"></ion-input>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Description</ion-label>
                      <ion-textarea rows="6" cols="20" formControlName="description"></ion-textarea>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <div class="ion-padding">
                      <ion-button (click)="submit()">Submit</ion-button>
                      &nbsp;
                      <ion-button (click)="dismiss()" color="danger">Cancel</ion-button>
                      &nbsp;
                      <ion-button *ngIf="!isNew" (click)="delete()" color="danger" fill="outline">Delete</ion-button>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>