{"version":3,"sources":["./src/app/tabs/profile/profile.page.html","./src/app/tabs/profile/profile-routing.module.ts","./src/app/tabs/profile/profile.module.ts","./src/app/tabs/profile/profile.page.scss","./src/app/tabs/profile/profile.page.ts"],"names":[],"mappings":"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","file":"profile-profile-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Profile</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-card class=\\\"ion-padding\\\">\\n          <ion-item lines=\\\"none\\\">\\n            <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"presentModal()\\\" style=\\\"cursor: pointer;\\\"></ion-icon>\\n            <ion-label>Welcome, {{ item?.firstname }}!</ion-label>\\n          </ion-item>\\n          <ion-card-content>\\n            <!-- <ion-item lines=\\\"none\\\">\\n              <ion-img [src]=\\\"item?.img\\\"></ion-img>\\n            </ion-item> -->\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>Email</small></i></ion-text>\\n              <ion-text>{{ item?.email }}</ion-text>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>Currency</small></i></ion-text>\\n              <ion-text>{{ item?.currency }}</ion-text>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>List View</small></i></ion-text>\\n              <ion-text>{{ item?.listview }}</ion-text>\\n            </ion-item>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col class=\\\"ion-padding\\\" size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-button color=\\\"danger\\\" (click)=\\\"logout()\\\">\\n          <ion-icon name=\\\"log-out\\\"></ion-icon>Log out\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { UserModalPageModule } from '../../modals';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ProfilePageRoutingModule,\n    UserModalPageModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","export default \".profile-label {\\n  width: 4rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy9wcm9maWxlL0U6XFxQcm9qZWN0c1xcZGV2IHNhbmRib3hcXGVhc3lib29rcy9zcmNcXGFwcFxcdGFic1xccHJvZmlsZVxccHJvZmlsZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3RhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlLWxhYmVsIHtcclxuICAgIHdpZHRoOiA0cmVtO1xyXG59IiwiLnByb2ZpbGUtbGFiZWwge1xuICB3aWR0aDogNHJlbTtcbn0iXX0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { map, take } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { SubSink } from 'subsink';\n\nimport {\n  AppState,\n  AuthService,\n  ProfileService\n} from '../../store';\nimport { Profile } from '../../store/models';\nimport { UserModalPage } from '../../modals';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit, OnDestroy {\n  private subs = new SubSink();\n  item: Profile;\n  id: string;\n  email: string;\n  isNew: boolean;\n\n  constructor(\n    private store: Store<AppState>,\n    private authService: AuthService,\n    public loadingController: LoadingController,\n    public modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.subs.add(\n      this.store.select('auth')\n        .pipe(map(state => { if (state.user) { return state.user.email; } }))\n        .subscribe(email => this.email = email),\n      this.store.select('user')\n        .pipe(map(state => state.item))\n        .subscribe(item => {\n          this.item = item;\n          this.isNew = !item;\n          if (this.isNew && this.item === null) { this.presentModal(); }\n        }),\n    );\n  }\n\n  logout() {\n    this.authService.logout();\n  }\n\n  ngOnDestroy() { this.subs.unsubscribe(); }\n\n  refresh(event: any) {\n    setTimeout(() => { event.target.complete(); }, 2000);\n  }\n\n  async presentModal() {\n    const modal = await this.modalController.create({\n      component: UserModalPage,\n      componentProps: {\n        newItem: this.isNew,\n        item: this.item,\n        email: this.email\n      }\n    });\n    return await modal.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      duration: 1000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}