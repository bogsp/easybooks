{"version":3,"sources":["./src/app/tabs/income/income.page.html","./src/app/tabs/income/income-routing.module.ts","./src/app/tabs/income/income.module.ts","./src/app/tabs/income/income.page.scss","./src/app/tabs/income/income.page.ts"],"names":[],"mappings":"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","file":"income-income-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Income</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button slot=\\\"secondary\\\" (click)=\\\"presentModal()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid>\\n    <ion-row>\\n      <!-- <ion-col size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-segment (ionChange)=\\\"filterDates($event)\\\">\\n          <ion-segment-button value=\\\"All\\\" checked>\\n            <ion-label>All</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"Today\\\">\\n            <ion-label>Today</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"Weekly\\\">\\n            <ion-label>Weekly</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"Monthly\\\">\\n            <ion-label>Monthly</ion-label>\\n          </ion-segment-button>\\n        </ion-segment>\\n      </ion-col> -->\\n      <ion-col size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-card class=\\\"ion-padding\\\">\\n          <ion-card-header>\\n            <ion-card-title>Summary</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label color=\\\"medium\\\"><i><small>Total Income</small></i></ion-label>\\n              <ion-text>{{ getAmount() | currency: curr }}</ion-text>\\n            </ion-item>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col class=\\\"ion-padding\\\" size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-list>\\n            <ion-item *ngFor=\\\"let item of items\\\" (click)=\\\"presentModal(item)\\\">\\n              <ion-label position=\\\"fixed\\\">{{ item.date | date: 'MMM dd' }}</ion-label>\\n              <ion-label>{{ item.type }}</ion-label>\\n              <p>{{ item.amount | currency: curr }}</p>\\n            </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IncomePage } from './income.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IncomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IncomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { IncomePageRoutingModule } from './income-routing.module';\nimport { IncomeModalPageModule } from '../../modals';\n\nimport { IncomePage } from './income.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    IncomePageRoutingModule,\n    IncomeModalPageModule\n  ],\n  declarations: [IncomePage]\n})\nexport class IncomePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYnMvaW5jb21lL2luY29tZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { SubSink } from 'subsink';\n\nimport { AppState, IncomeService } from '../../store';\nimport { Types, Income } from '../../store/models';\nimport { IncomeModalPage } from '../../modals';\n\n@Component({\n  selector: 'app-income',\n  templateUrl: './income.page.html',\n  styleUrls: ['./income.page.scss'],\n})\nexport class IncomePage implements OnInit, OnDestroy {\n  private subs = new SubSink();\n  item: Income;\n  items: Income[];\n  itemId: string;\n  isEditing: boolean;\n  isLoading: boolean;\n  total: number;\n  types: Types[];\n  error: { header: string, message: string };\n  curr: string;\n\n  constructor(\n    private store: Store<AppState>,\n    private incomeService: IncomeService,\n    public loadingController: LoadingController,\n    public modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.subs.add(\n      this.store\n        .select('user')\n        .pipe(map(state => state.curency))\n        .subscribe(curency => { this.curr = curency; }),\n\n      this.store\n        .select('income')\n        .pipe(map(state => state.types))\n        .subscribe(types => { this.types = types; }),\n\n      this.store\n        .select('income')\n        .pipe(map(state => state.items))\n        .subscribe(items => { this.items = items; }),\n\n      this.store\n        .select('expenses')\n        .pipe(map(state => state.total))\n        .subscribe(total => { this.total = total; }),\n    );\n  }\n\n  getAmount(id?: string) {\n    if (id) {\n      return this.items\n        .filter(exp => exp.typeid === id)\n        .reduce((a, e) => a + e.amount, 0);\n    }\n    return this.items.reduce((a, e) => a + e.amount, 0);\n  }\n\n  filterDates(event: any) { console.log(event.detail.value); }\n\n  filterArr(id: string) { return this.items.filter(exp => exp.typeid === id); }\n\n  ngOnDestroy() { this.subs.unsubscribe(); }\n\n  refresh(event: any) {\n    // this.incomeService.fetchAll();\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n  async presentModal(i?: Income) {\n    const modal = await this.modalController.create({\n      component: IncomeModalPage,\n      componentProps: {\n        item: i,\n        types: this.types\n      }\n    });\n    return await modal.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      duration: 1000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}