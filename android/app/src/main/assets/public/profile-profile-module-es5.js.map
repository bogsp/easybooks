{"version":3,"sources":["src/app/tabs/profile/profile.page.html","src/app/tabs/profile/profile-routing.module.ts","src/app/tabs/profile/profile.module.ts","src/app/tabs/profile/profile.page.scss","src/app/tabs/profile/profile.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Profile</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-card class=\\\"ion-padding\\\">\\n          <ion-item lines=\\\"none\\\">\\n            <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"presentModal()\\\" style=\\\"cursor: pointer;\\\"></ion-icon>\\n            <ion-label>Welcome, {{ item?.firstname }}!</ion-label>\\n          </ion-item>\\n          <ion-card-content>\\n            <!-- <ion-item lines=\\\"none\\\">\\n              <ion-img [src]=\\\"item?.img\\\"></ion-img>\\n            </ion-item> -->\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>Email</small></i></ion-text>\\n              <ion-text>{{ item?.email }}</ion-text>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>Currency</small></i></ion-text>\\n              <ion-text>{{ item?.currency }}</ion-text>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-text class=\\\"profile-label\\\" color=\\\"medium\\\"><i><small>List View</small></i></ion-text>\\n              <ion-text>{{ item?.listview }}</ion-text>\\n            </ion-item>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col class=\\\"ion-padding\\\" size-md=\\\"4\\\" offset-md=\\\"4\\\">\\n        <ion-button color=\\\"danger\\\" (click)=\\\"logout()\\\">\\n          <ion-icon name=\\\"log-out\\\"></ion-icon>Log out\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { UserModalPageModule } from '../../modals';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ProfilePageRoutingModule,\n    UserModalPageModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","export default \".profile-label {\\n  width: 4rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy9wcm9maWxlL0U6XFxQcm9qZWN0c1xcZGV2IHNhbmRib3hcXGVhc3lib29rcy9zcmNcXGFwcFxcdGFic1xccHJvZmlsZVxccHJvZmlsZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3RhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlLWxhYmVsIHtcclxuICAgIHdpZHRoOiA0cmVtO1xyXG59IiwiLnByb2ZpbGUtbGFiZWwge1xuICB3aWR0aDogNHJlbTtcbn0iXX0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { map, take } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { SubSink } from 'subsink';\n\nimport {\n  AppState,\n  AuthService,\n  ProfileService\n} from '../../store';\nimport { Profile } from '../../store/models';\nimport { UserModalPage } from '../../modals';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit, OnDestroy {\n  private subs = new SubSink();\n  item: Profile;\n  id: string;\n  email: string;\n  isNew: boolean;\n\n  constructor(\n    private store: Store<AppState>,\n    private authService: AuthService,\n    public loadingController: LoadingController,\n    public modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.subs.add(\n      this.store.select('auth')\n        .pipe(map(state => { if (state.user) { return state.user.email; } }))\n        .subscribe(email => this.email = email),\n      this.store.select('user')\n        .pipe(map(state => state.item))\n        .subscribe(item => {\n          this.item = item;\n          this.isNew = !item;\n          if (this.isNew && this.item === null) { this.presentModal(); }\n        }),\n    );\n  }\n\n  logout() {\n    this.authService.logout();\n  }\n\n  ngOnDestroy() { this.subs.unsubscribe(); }\n\n  refresh(event: any) {\n    setTimeout(() => { event.target.complete(); }, 2000);\n  }\n\n  async presentModal() {\n    const modal = await this.modalController.create({\n      component: UserModalPage,\n      componentProps: {\n        newItem: this.isNew,\n        item: this.item,\n        email: this.email\n      }\n    });\n    return await modal.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      duration: 1000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"profile-profile-module-es5.js"}